<Project Sdk="Microsoft.NET.Sdk.Web">

    <PropertyGroup>
        <TargetFramework>netcoreapp3.1</TargetFramework>
        <RootNamespace>Umbraco.Web.UI.NetCore</RootNamespace>
    </PropertyGroup>

    <PropertyGroup Condition=" '$(Configuration)' == 'Release' ">
      <DocumentationFile>bin\Release\Umbraco.Web.UI.NetCore.xml</DocumentationFile>
    </PropertyGroup>
    <ItemGroup>
      <ProjectReference Include="..\Umbraco.Examine.Lucene\Umbraco.Examine.Lucene.csproj" />
      <ProjectReference Include="..\Umbraco.Persistance.SqlCe\Umbraco.Persistance.SqlCe.csproj" />
      <ProjectReference Include="..\Umbraco.PublishedCache.NuCache\Umbraco.PublishedCache.NuCache.csproj" />
      <ProjectReference Include="..\Umbraco.Web.BackOffice\Umbraco.Web.BackOffice.csproj" />
      <ProjectReference Include="..\Umbraco.Web.Common\Umbraco.Web.Common.csproj" />
      <ProjectReference Include="..\Umbraco.Web.Website\Umbraco.Web.Website.csproj" />
    </ItemGroup>

    <ItemGroup>
      <Folder Include="Views" />
      <Folder Include="wwwroot\Media" />
      <Folder Include="wwwroot\Umbraco\views\install" />
    </ItemGroup>

    <ItemGroup>
        <Compile Remove="App_Data\**" />
    </ItemGroup>

    <ItemGroup>
        <EmbeddedResource Remove="App_Data\**" />
    </ItemGroup>

    <ItemGroup>
        <None Remove="App_Data\**" />
        <None Include="Config\tinyMceConfig.Release.config">
          <DependentUpon>tinyMceConfig.config</DependentUpon>
          <SubType>Designer</SubType>
        </None>
        <None Include="Config\umbracoSettings.Release.config">
          <DependentUpon>umbracoSettings.config</DependentUpon>
          <SubType>Designer</SubType>
        </None>
    </ItemGroup>

    <ItemGroup>
        <Content Remove="App_Data\**" />
        <Content Remove="wwwroot\Umbraco\views\install\machinekey.html" />
        <Content Remove="wwwroot\Umbraco\views\install\permissionsreport.html" />
        <Content Remove="wwwroot\Umbraco\views\install\starterkit.html" />
        <Content Remove="wwwroot\Umbraco\views\install\upgrade.html" />
        <Content Remove="wwwroot\Umbraco\views\install\user.html" />
        <Content Remove="wwwroot\Umbraco\views\install\version7upgradereport.html" />
        <Content Remove="wwwroot\Umbraco\views\install\continueinstall.html" />
        <Content Remove="wwwroot\Umbraco\views\install\database.html" />
        <Content Remove="wwwroot\Umbraco\views\install\error.html" />
        <Content Update="Areas\UmbracoInstall\Views\Install\Index.cshtml">
          <ExcludeFromSingleFile>true</ExcludeFromSingleFile>
          <CopyToPublishDirectory>PreserveNewest</CopyToPublishDirectory>
        </Content>
        <Content Update="Config\tinyMceConfig.config">
          <SubType>Designer</SubType>
        </Content>
        <Content Update="Config\umbracoSettings.config">
          <SubType>Designer</SubType>
        </Content>
        <Content Remove="wwwroot\Web.config" />
        <Content Remove="Umbraco\PartialViewMacros\Templates\Gallery.cshtml" />
        <Content Remove="Umbraco\PartialViewMacros\Templates\ListAncestorsFromCurrentPage.cshtml" />
        <Content Remove="Umbraco\PartialViewMacros\Templates\ListChildPagesFromChangeableSource.cshtml" />
        <Content Remove="Umbraco\PartialViewMacros\Templates\ListChildPagesFromCurrentPage.cshtml" />
        <Content Remove="Umbraco\PartialViewMacros\Templates\ListChildPagesOrderedByDate.cshtml" />
        <Content Remove="Umbraco\PartialViewMacros\Templates\ListChildPagesOrderedByName.cshtml" />
        <Content Remove="Umbraco\PartialViewMacros\Templates\ListChildPagesOrderedByProperty.cshtml" />
        <Content Remove="Umbraco\PartialViewMacros\Templates\ListChildPagesWithDoctype.cshtml" />
        <Content Remove="Umbraco\PartialViewMacros\Templates\ListDescendantsFromCurrentPage.cshtml" />
        <Content Remove="Umbraco\PartialViewMacros\Templates\ListImagesFromMediaFolder.cshtml" />
        <Content Remove="Umbraco\PartialViewMacros\Templates\Login.cshtml" />
        <Content Remove="Umbraco\PartialViewMacros\Templates\LoginStatus.cshtml" />
        <Content Remove="Umbraco\PartialViewMacros\Templates\MultinodeTree-picker.cshtml" />
        <Content Remove="Umbraco\PartialViewMacros\Templates\Navigation.cshtml" />
        <Content Remove="Umbraco\PartialViewMacros\Templates\RegisterMember.cshtml" />
        <Content Remove="Umbraco\PartialViewMacros\Templates\SiteMap.cshtml" />
        <Content Remove="Umbraco\PartialViewMacros\Templates\EditProfile.cshtml" />
    </ItemGroup>

    <ItemGroup>
      <PackageReference Include="Microsoft.AspNetCore.Mvc.NewtonsoftJson" Version="3.1.3" />
        <!-- TODO: remove the reference to System.Configuration.ConfigurationManager when Examine/lucene dont need it-->
        <PackageReference Include="System.Configuration.ConfigurationManager" Version="4.7.0" />
    </ItemGroup>

    <ItemGroup>
      <Content Remove="Umbraco\PartialViewMacros\Templates\Gallery.cshtml" />
      <Content Remove="Umbraco\PartialViewMacros\Templates\ListAncestorsFromCurrentPage.cshtml" />
      <Content Remove="Umbraco\PartialViewMacros\Templates\ListChildPagesFromChangeableSource.cshtml" />
      <Content Remove="Umbraco\PartialViewMacros\Templates\ListChildPagesFromCurrentPage.cshtml" />
      <Content Remove="Umbraco\PartialViewMacros\Templates\ListChildPagesOrderedByDate.cshtml" />
      <Content Remove="Umbraco\PartialViewMacros\Templates\ListChildPagesOrderedByName.cshtml" />
      <Content Remove="Umbraco\PartialViewMacros\Templates\ListChildPagesOrderedByProperty.cshtml" />
      <Content Remove="Umbraco\PartialViewMacros\Templates\ListChildPagesWithDoctype.cshtml" />
      <Content Remove="Umbraco\PartialViewMacros\Templates\ListDescendantsFromCurrentPage.cshtml" />
      <Content Remove="Umbraco\PartialViewMacros\Templates\ListImagesFromMediaFolder.cshtml" />
      <Content Remove="Umbraco\PartialViewMacros\Templates\Login.cshtml" />
      <Content Remove="Umbraco\PartialViewMacros\Templates\LoginStatus.cshtml" />
      <Content Remove="Umbraco\PartialViewMacros\Templates\MultinodeTree-picker.cshtml" />
      <Content Remove="Umbraco\PartialViewMacros\Templates\Navigation.cshtml" />
      <Content Remove="Umbraco\PartialViewMacros\Templates\RegisterMember.cshtml" />
      <Content Remove="Umbraco\PartialViewMacros\Templates\SiteMap.cshtml" />
      <Content Remove="Umbraco\PartialViewMacros\Templates\EditProfile.cshtml" />
      <Content Include="Config\lang\cs-CZ.user.xml" />
      <Content Include="Config\lang\da-DK.user.xml" />
      <Content Include="Config\lang\de-DE.user.xml" />
      <Content Include="Config\lang\en-GB.user.xml" />
      <Content Include="Config\lang\en-US.user.xml" />
      <Content Include="Config\lang\es-ES.user.xml" />
      <Content Include="Config\lang\fr-FR.user.xml" />
      <Content Include="Config\lang\he-IL.user.xml" />
      <Content Include="Config\lang\it-IT.user.xml" />
      <Content Include="Config\lang\ja-JP.user.xml" />
      <Content Include="Config\lang\ko-KR.user.xml" />
      <Content Include="Config\lang\nb-NO.user.xml" />
      <Content Include="Config\lang\nl-NL.user.xml" />
      <Content Include="Config\lang\pl-PL.user.xml" />
      <Content Include="Config\lang\pt-BR.user.xml" />
      <Content Include="Config\lang\ru-RU.user.xml" />
      <Content Include="Config\lang\sv-SE.user.xml" />
      <Content Include="Config\lang\zh-CN.user.xml" />
    </ItemGroup>

    <ItemGroup>
      <AdditionalFiles Include="Config\lang\cs-CZ.user.xml" />
      <AdditionalFiles Include="Config\lang\da-DK.user.xml" />
      <AdditionalFiles Include="Config\lang\de-DE.user.xml" />
      <AdditionalFiles Include="Config\lang\en-GB.user.xml" />
      <AdditionalFiles Include="Config\lang\en-US.user.xml" />
      <AdditionalFiles Include="Config\lang\es-ES.user.xml" />
      <AdditionalFiles Include="Config\lang\fr-FR.user.xml" />
      <AdditionalFiles Include="Config\lang\he-IL.user.xml" />
      <AdditionalFiles Include="Config\lang\it-IT.user.xml" />
      <AdditionalFiles Include="Config\lang\ja-JP.user.xml" />
      <AdditionalFiles Include="Config\lang\ko-KR.user.xml" />
      <AdditionalFiles Include="Config\lang\nb-NO.user.xml" />
      <AdditionalFiles Include="Config\lang\nl-NL.user.xml" />
      <AdditionalFiles Include="Config\lang\pl-PL.user.xml" />
      <AdditionalFiles Include="Config\lang\pt-BR.user.xml" />
      <AdditionalFiles Include="Config\lang\ru-RU.user.xml" />
      <AdditionalFiles Include="Config\lang\sv-SE.user.xml" />
      <AdditionalFiles Include="Config\lang\zh-CN.user.xml" />
    </ItemGroup>

</Project>
