(function(){'use strict';angular.module('umbraco.filters',[]);'use strict';angular.module('umbraco.filters').filter('compareArrays',function(){return function inArray(array,compareArray,compareProperty){var result=[];angular.forEach(array,function(arrayItem){var exists=false;angular.forEach(compareArray,function(compareItem){if(arrayItem[compareProperty]===compareItem[compareProperty]){exists=true;}});if(!exists){result.push(arrayItem);}});return result;};});'use strict';var ncNodeNameCache={id:'',keys:{}};angular.module('umbraco.filters').filter('ncNodeName',function(editorState,entityResource){function formatLabel(firstNodeName,totalNodes){return totalNodes<=1?firstNodeName:firstNodeName+' (+'+(totalNodes-1)+')';}
return function(input){if(input===''||input.toString()==='0'){return'';}
var currentNode=editorState.getCurrent();var key='ncNodeName_'+currentNode.key;if(ncNodeNameCache.id!==key){ncNodeNameCache.id=key;ncNodeNameCache.keys={};}
var ids=input.split(',');var lookupId=ids[0];if(ncNodeNameCache.keys[lookupId]){return formatLabel(ncNodeNameCache.keys[lookupId],ids.length);}
ncNodeNameCache.keys[lookupId]='Loading...';var type=lookupId.indexOf('umb://media/')===0?'Media':lookupId.indexOf('umb://member/')===0?'Member':'Document';entityResource.getById(lookupId,type).then(function(ent){ncNodeNameCache.keys[lookupId]=ent.name;});return formatLabel(ncNodeNameCache.keys[lookupId],ids.length);};}).filter('ncRichText',function(){return function(input){return $('<div/>').html(input).text();};});'use strict';angular.module('umbraco.filters').filter('preserveNewLineInHtml',function(){return function(text){if(!text){return'';}
return text.replace(/\n/g,'<br />');};});'use strict';angular.module('umbraco.filters').filter('safe_html',['$sce',function($sce){return function(text){return $sce.trustAsHtml(text);};}]);'use strict';angular.module('umbraco.filters').filter('timespan',function(){return function(input){var sec_num=parseInt(input,10);var hours=Math.floor(sec_num/3600);var minutes=Math.floor((sec_num-hours*3600)/60);var seconds=sec_num-hours*3600-minutes*60;if(hours<10){hours='0'+hours;}
if(minutes<10){minutes='0'+minutes;}
if(seconds<10){seconds='0'+seconds;}
var time=hours+':'+minutes+':'+seconds;return time;};});'use strict';angular.module('umbraco.filters').filter('truncate',function(){return function(value,wordwise,max,tail){if(!value)
return'';if(typeof wordwise!=='boolean'){if(max!==true){tail='';}
max=wordwise;wordwise=false;}
max=parseInt(max,10);if(!max)
return value;if(value.length<=max)
return value;tail=!tail&&tail!==''?'\u2026':tail;if(wordwise&&value.substr(max,1)===' '){max++;}
value=value.substr(0,max);if(wordwise){var lastspace=value.lastIndexOf(' ');if(lastspace!==-1){value=value.substr(0,lastspace+1);}}
return value+tail;};});'use strict';angular.module('umbraco.filters').filter('umbCmsJoinArray',function(){return function join(array,separator,prop){return(!angular.isUndefined(prop)?array.map(function(item){return item[prop];}):array).join(separator||'');};});'use strict';angular.module('umbraco.filters').filter('umbCmsTitleCase',function(){return function(str){return str.replace(/\w\S*/g,function(txt){return txt.charAt(0).toUpperCase()+txt.substr(1).toLowerCase();});};});'use strict';(function(){'use strict';function umbWordLimitFilter(){return function(collection,property){if(!Utilities.isString(collection)){return collection;}
if(angular.isUndefined(property)){return collection;}
var newString='';var array=[];array=collection.split(' ',property);array.length=property;newString=array.join(' ');return newString;};}
angular.module('umbraco.filters').filter('umbWordLimit',umbWordLimitFilter);}());}());;