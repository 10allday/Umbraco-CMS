<div ng-controller="Umbraco.Editors.DataType.RelationsController as vm">

    <umb-load-indicator ng-if="vm.view.loading === true"></umb-load-indicator>

    <umb-box ng-if="vm.view.loading === false && vm.hasRelations === false">
        <umb-box-header title-key="relations_tabName"></umb-box-header>
        <umb-box-content>
            <umb-empty-state size="small">
                <localize key="relations_DataTypenoRelations">This Data Type has no relations.</localize>
            </umb-empty-state>
        </umb-box-content>
    </umb-box>


    <div ng-if="vm.view.loading === false && vm.hasRelations === true">

        <!-- Document Types -->

        <div ng-if="vm.relations.documentTypes.length > 0">

            <h5 class="mt4" style="margin-bottom: 20px;">
                <localize key="relations_labelUsedByDocumentTypes"></localize>
            </h5>

            <div class="umb-table">
                <div class="umb-table-head">
                    <div class="umb-table-row">
                        <div class="umb-table-cell"></div>
                        <div class="umb-table-cell umb-table__name not-fixed"><localize key="general_name">Name</localize></div>
                        <div class="umb-table-cell"><localize key="content_alias">Alias</localize></div>
                        <div class="umb-table-cell"><localize key="relation_usedByProperties">Used in</localize></div>
                        <div class="umb-table-cell umb-table-cell--nano"><localize key="general_open" style="visibility:hidden;">Open</localize></div>
                    </div>
                </div>
                <div class="umb-table-body">
                    <div class="umb-table-row" ng-repeat="relation in vm.relations.documentTypes">
                        <div class="umb-table-cell"><i class="umb-table-body__icon {{relation.icon}}"></i></div>
                        <div class="umb-table-cell umb-table__name"><span>{{relation.name}}</span></div>
                        <div class="umb-table-cell"><span title="{{relation.alias}}">{{relation.alias}}</span></div>
                        <div class="umb-table-cell --noOverflow"><span>{{relation.properties | CMS_joinArray:', ':'name'}}</span></div>
                        <div class="umb-table-cell umb-table-cell--nano"><a href="#/settings/documentTypes/edit/{{relation.id}}"><localize key="general_open">Open</localize></a></div>
                    </div>
                </div>
            </div>
        </div>


        <!-- Media Types -->
        <div ng-if="vm.relations.mediaTypes.length > 0">

            <h5 class="mt4" style="margin-bottom: 20px;">
                <localize key="relations_labelUsedByMediaTypes"></localize>
            </h5>

            <div class="umb-table">
                <div class="umb-table-head">
                    <div class="umb-table-row">
                        <div class="umb-table-cell"></div>
                        <div class="umb-table-cell umb-table__name not-fixed"><localize key="general_name">Name</localize></div>
                        <div class="umb-table-cell"><localize key="content_alias">Alias</localize></div>
                        <div class="umb-table-cell"><localize key="relation_usedByProperties">Used in</localize></div>
                        <div class="umb-table-cell umb-table-cell--nano"><localize key="general_open" style="visibility:hidden;">Open</localize></div>
                    </div>
                </div>
                <div class="umb-table-body">
                    <div class="umb-table-row" ng-repeat="relation in vm.relations.documentTypes">
                        <div class="umb-table-cell"><i class="umb-table-body__icon {{relation.icon}}"></i></div>
                        <div class="umb-table-cell umb-table__name"><span>{{relation.name}}</span></div>
                        <div class="umb-table-cell"><span title="{{relation.alias}}">{{relation.alias}}</span></div>
                        <div class="umb-table-cell --noOverflow"><span>{{relation.properties | CMS_joinArray:', ':'name'}}</span></div>
                        <div class="umb-table-cell umb-table-cell--nano"><a href="#/settings/documentTypes/edit/{{relation.id}}"><localize key="general_open">Open</localize></a></div>
                    </div>
                </div>
            </div>
        </div>


        <!-- Member Types -->
        <div ng-if="vm.relations.memberTypes.length > 0">

            <h5 class="mt4" style="margin-bottom: 20px;">
                <localize key="relations_labelUsedByMemberTypes"></localize>
            </h5>

            <div class="umb-table">
                <div class="umb-table-head">
                    <div class="umb-table-row">
                        <div class="umb-table-cell"></div>
                        <div class="umb-table-cell umb-table__name not-fixed"><localize key="general_name">Name</localize></div>
                        <div class="umb-table-cell"><localize key="content_alias">Alias</localize></div>
                        <div class="umb-table-cell"><localize key="relation_usedByProperties">Used in</localize></div>
                        <div class="umb-table-cell umb-table-cell--nano"><localize key="general_open" style="visibility:hidden;">Open</localize></div>
                    </div>
                </div>
                <div class="umb-table-body">
                    <div class="umb-table-row" ng-repeat="relation in vm.relations.documentTypes">
                        <div class="umb-table-cell"><i class="umb-table-body__icon {{relation.icon}}"></i></div>
                        <div class="umb-table-cell umb-table__name"><span>{{relation.name}}</span></div>
                        <div class="umb-table-cell"><span title="{{relation.alias}}">{{relation.alias}}</span></div>
                        <div class="umb-table-cell --noOverflow"><span>{{relation.properties | CMS_joinArray:', ':'name'}}</span></div>
                        <div class="umb-table-cell umb-table-cell--nano"><a href="#/settings/documentTypes/edit/{{relation.id}}"><localize key="general_open">Open</localize></a></div>
                    </div>
                </div>
            </div>

        </div>


    </div>


</div>